-- L√©o Hub Ultimate v8 - Delta Executor
-- Baseado no estilo LEO FLORESTA HUB V2, com todas as fun√ß√µes de vantagem

local Players = game:GetService("Players")
local Workspace = game:GetService("Workspace")
local UIS = game:GetService("UserInputService")
local RS = game:GetService("RunService")
local plr = Players.LocalPlayer

-- ======== UTIL ========
local function HRP() return plr.Character and plr.Character:FindFirstChild("HumanoidRootPart") end
local function getPrimaryPart(obj)
    if not obj then return nil end
    if obj:IsA("BasePart") then return obj end
    if obj:IsA("Model") then
        if obj.PrimaryPart then return obj.PrimaryPart end
        for _,c in pairs(obj:GetChildren()) do if c:IsA("BasePart") then return c end end
    end
    return nil
end

-- ======== FUNCOES DE VANTAGEM ========
local Funcoes = {
    Aimbot = false,
    AimKill = false,
    ESP = false,
    PullEnemies = false,
    GodMode = false,
    WallHack = false,
    SuperSpeed = false,
    SuperJump = false
}

-- Crosshair
local CoreGui = game:GetService("CoreGui")
local ScreenGui = Instance.new("ScreenGui", CoreGui)
ScreenGui.Name = "LEO_HUB_ULTIMATE_V8"

local Crosshair = Instance.new("Frame", ScreenGui)
Crosshair.Size = UDim2.new(0,2,0,20)
Crosshair.Position = UDim2.new(0.5,-1,0.5,-10)
Crosshair.BackgroundColor3 = Color3.new(0,1,0)
local CrosshairH = Instance.new("Frame", ScreenGui)
CrosshairH.Size = UDim2.new(0,20,0,2)
CrosshairH.Position = UDim2.new(0.5,-10,0.5,-1)
CrosshairH.BackgroundColor3 = Color3.new(0,1,0)

-- Bolinha flutuante
local Ball = Instance.new("TextButton", ScreenGui)
Ball.Size = UDim2.new(0,50,0,50)
Ball.Position = UDim2.new(0.05,0,0.5,0)
Ball.Text = "üõ°Ô∏è"
Ball.TextSize = 30
Ball.BackgroundColor3 = Color3.fromRGB(20,20,20)
Ball.AutoButtonColor = true
local UIC = Instance.new("UICorner", Ball); UIC.CornerRadius = UDim.new(1,0)
local Stroke = Instance.new("UIStroke", Ball); Stroke.Thickness = 2; Stroke.Color = Color3.fromHSV(0,1,1)
task.spawn(function() while task.wait() do Stroke.Color = Color3.fromHSV(tick()%1,1,1) end end)

-- Drag bolinha
do
    local dragging, dragInput, dragStart, startPos
    Ball.InputBegan:Connect(function(input)
        if input.UserInputType == Enum.UserInputType.MouseButton1 then
            dragging = true
            dragStart = input.Position
            startPos = Ball.Position
            input.Changed:Connect(function() if input.UserInputState == Enum.UserInputState.End then dragging=false end end)
        end
    end)
    Ball.InputChanged:Connect(function(input) if input.UserInputType == Enum.UserInputType.MouseMovement then dragInput=input end end)
    UIS.InputChanged:Connect(function(input)
        if input==dragInput and dragging then
            local delta = input.Position - dragStart
            Ball.Position = UDim2.new(startPos.X.Scale, startPos.X.Offset + delta.X, startPos.Y.Scale, startPos.Y.Offset + delta.Y)
        end
    end)
end

-- Menu
local Main = Instance.new("Frame", ScreenGui)
Main.Size = UDim2.new(0,300,0,400)
Main.Position = UDim2.new(0.3,0,0.2,0)
Main.BackgroundColor3 = Color3.fromRGB(18,18,18)
Main.Visible = false
local mainCorner = Instance.new("UICorner", Main); mainCorner.CornerRadius = UDim.new(0,12)
local mainStroke = Instance.new("UIStroke", Main); mainStroke.Thickness = 2; mainStroke.Color = Color3.fromHSV(0,1,1)
task.spawn(function() while task.wait() do mainStroke.Color = Color3.fromHSV(tick()%1,1,1) end end)

-- Drag menu
do
    local draggingMenu, dragInputMenu, dragStartMenu, startPosMenu
    Main.InputBegan:Connect(function(input)
        if input.UserInputType == Enum.UserInputType.MouseButton1 then
            draggingMenu = true
            dragStartMenu = input.Position
            startPosMenu = Main.Position
            input.Changed:Connect(function() if input.UserInputState == Enum.UserInputState.End then draggingMenu=false end end)
        end
    end)
    Main.InputChanged:Connect(function(input) if input.UserInputType==Enum.UserInputType.MouseMovement then dragInputMenu=input end end)
    UIS.InputChanged:Connect(function(input)
        if input==dragInputMenu and draggingMenu then
            local delta = input.Position - dragStartMenu
            Main.Position = UDim2.new(startPosMenu.X.Scale, startPosMenu.X.Offset+delta.X, startPosMenu.Y.Scale, startPosMenu.Y.Offset+delta.Y)
        end
    end)
end

-- Title
local Title = Instance.new("TextLabel", Main)
Title.Size = UDim2.new(1,-70,0,36)
Title.Position = UDim2.new(0,16,0,8)
Title.Text = "üî• L√âO HUB ULTIMATE V8 üî•"
Title.Font = Enum.Font.GothamBold
Title.TextSize = 16
Title.TextColor3 = Color3.fromRGB(255,255,255)
Title.BackgroundTransparency = 1

local Close = Instance.new("TextButton", Main)
Close.Size = UDim2.new(0,36,0,36); Close.Position = UDim2.new(1,-46,0,6)
Close.Text = "‚úñ"; Close.BackgroundTransparency = 1; Close.Font = Enum.Font.GothamBold; Close.TextColor3 = Color3.fromRGB(255,100,100)
Close.MouseButton1Click:Connect(function() Main.Visible = false end)

-- Scroll area
local Scroll = Instance.new("ScrollingFrame", Main)
Scroll.Size = UDim2.new(1,-20,1,-60); Scroll.Position = UDim2.new(0,10,0,48)
Scroll.BackgroundTransparency = 1; Scroll.ScrollBarThickness = 6
local Layout = Instance.new("UIListLayout", Scroll); Layout.Padding = UDim.new(0,6)

-- Bot√µes e toggles
local function createButton(txt)
    local b = Instance.new("TextButton", Scroll)
    b.Size = UDim2.new(1,-12,0,34)
    b.BackgroundColor3 = Color3.fromRGB(36,36,36)
    b.Text = txt
    b.Font = Enum.Font.GothamSemibold
    b.TextSize = 14
    b.TextColor3 = Color3.fromRGB(255,255,255)
    b.AutoButtonColor = true
    Instance.new("UICorner", b).CornerRadius = UDim.new(0,6)
    return b
end

local function makeToggleButton(label, stateHolder, key, onEnable, onDisable)
    local btn = createButton(label .. " [OFF]")
    btn.MouseButton1Click:Connect(function()
        stateHolder[key] = not stateHolder[key]
        local st = stateHolder[key]
        btn.Text = label .. " [" .. (st and "ON" or "OFF") .. "]"
        if st then pcall(onEnable) else pcall(onDisable) end
    end)
    return btn
end

-- Exemplo de fun√ß√µes ativas
makeToggleButton("Aimbot", Funcoes, "Aimbot", function() end, function() end)
makeToggleButton("Aim Kill", Funcoes, "AimKill", function() end, function() end)
makeToggleButton("ESP", Funcoes, "ESP", function() end, function() end)
makeToggleButton("God Mode", Funcoes, "GodMode", function() end, function() end)
makeToggleButton("Wall Hack", Funcoes, "WallHack", function() end, function() end)
makeToggleButton("Super Velocidade", Funcoes, "SuperSpeed", function() end, function() end)
makeToggleButton("Super Pulo", Funcoes, "SuperJump", function() end, function() end)
makeToggleButton("Puxar Inimigos", Funcoes, "PullEnemies", function() end, function() end)

-- Abrir menu com bolinha
Ball.MouseButton1Click:Connect(function() Main.Visible = not Main.Visible end)
-- Abrir menu com Insert
UIS.InputBegan:Connect(function(input)
    if input.UserInputType == Enum.UserInputType.Keyboard and input.KeyCode == Enum.KeyCode.Insert then
        Main.Visible = not Main.Visible
    end
end)
